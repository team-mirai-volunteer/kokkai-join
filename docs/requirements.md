# Kokkai-Join プロジェクト要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
Kokkai-Join（コッカイジョイン）

### 1.2 プロジェクトの目的
国会会議録検索システムを使いやすいUI/UXで表示し、国民が議論に参加したり、国会の議題に対して見識を深めるためのWebアプリケーションを開発する。

### 1.3 背景
- 既存の国会会議録検索システム（https://kokkai.ndl.go.jp/）は機能的だが、UXが古く一般市民には使いにくい
- 国民の政治参加を促進するため、より直感的で魅力的なインターフェースが必要
- 議論の可視化や参加機能により、民主主義の活性化を図る

### 1.4 ターゲットユーザー
- **主要ターゲット**: 政治に関心のある一般市民（20-60代）
- **副次ターゲット**: 研究者、ジャーナリスト、学生、政治関係者

## 2. システム概要

### 2.1 システム構成
- **フロントエンド**: Next.js 15.4.6 + React 19.1.0 + TypeScript + MUI (Material-UI)
- **バックエンド**: Node.js（予定）
- **データソース**: 国立国会図書館 国会会議録検索API
- **ホスティング**: Vercel（予定）

### 2.2 アーキテクチャ
```
[Frontend (Next.js + MUI)] ←→ [Backend API] ←→ [国会会議録検索API]
                                     ↓
                               [データベース]
                                     ↓
                             [ユーザー管理機能]
```

### 2.3 フロントエンド技術スタック詳細
- **UI Framework**: MUI (Material-UI) v6
- **デザインシステム**: Material Design 3準拠
- **コンポーネント**: MUIの豊富なコンポーネントライブラリを活用
- **テーマ**: カスタムテーマによる一貫したデザイン
- **アイコン**: Material Icons及びMUI Icons

### 2.4 MUI コンポーネント活用計画

#### 2.4.1 検索機能関連
- **検索フォーム**: TextField, Autocomplete, Select, DatePicker
- **フィルタリング**: Chip, ToggleButton, FormControlLabel
- **検索アクション**: Button, Fab, IconButton

#### 2.4.2 データ表示関連  
- **検索結果一覧**: Card, List, ListItem, Pagination
- **会議録表示**: Typography, Accordion, Divider, Paper
- **データテーブル**: DataGrid (MUI X), Table, TablePagination

#### 2.4.3 ナビゲーション
- **ヘッダー**: AppBar, Toolbar, Breadcrumbs
- **サイドバー**: Drawer, List, ListItemButton
- **タブ**: Tabs, TabPanel

#### 2.4.4 ユーザーインタラクション
- **フィードバック**: Snackbar, Alert, Dialog, Backdrop
- **プログレス表示**: CircularProgress, LinearProgress, Skeleton
- **フォーム**: FormControl, FormHelperText, Switch, Slider

#### 2.4.5 レイアウト・構造
- **レスポンシブレイアウト**: Grid, Container, Box, Stack
- **コンテンツ表示**: Paper, Card, CardContent, Collapse

## 3. 機能要件

### 3.1 コア機能

#### 3.1.1 会議録検索機能
- **シンプル検索**: キーワードによる全文検索
- **詳細検索**: 
  - 院（衆議院・参議院）での絞り込み
  - 会議名での絞り込み
  - 発言者名での絞り込み
  - 日付範囲での絞り込み
  - 会期での絞り込み
- **検索履歴**: ユーザーの検索履歴の保存と再利用
- **保存された検索**: よく使う検索条件の保存

#### 3.1.2 検索結果表示機能
- **一覧表示**: 検索結果のカード形式での表示
- **詳細表示**: 個別の会議録の詳細表示
- **ページネーション**: 大量の検索結果の効率的な表示
- **ソート機能**: 日付、関連度による並び替え
- **フィルタリング**: 検索結果の追加絞り込み

#### 3.1.3 会議録閲覧機能
- **見やすいレイアウト**: 発言者と発言内容の明確な区分
- **ハイライト機能**: 検索キーワードのハイライト表示
- **目次機能**: 長い会議録の効率的なナビゲーション
- **全文表示/PDF表示**: 元データへのアクセス

### 3.2 ユーザー参加機能

#### 3.2.1 ユーザー認証
- **アカウント登録**: メールアドレスによる登録
- **ログイン/ログアウト**: セキュアな認証システム
- **プロフィール管理**: ユーザー情報の管理

#### 3.2.2 議論参加機能
- **コメント機能**: 会議録に対するコメント投稿
- **返信機能**: コメントへの返信
- **投票機能**: 発言や議題に対する賛成/反対の表明
- **タグ機能**: 関連トピックでの分類

#### 3.2.3 ソーシャル機能
- **フォロー機能**: 他ユーザーのフォロー
- **通知機能**: 関心のある議題の更新通知
- **共有機能**: SNSでの会議録や議論の共有

### 3.3 データ分析・可視化機能

#### 3.3.1 統計情報
- **発言回数統計**: 議員別の発言頻度
- **テーマ分析**: よく議論されるテーマの可視化
- **時系列分析**: 議論の変遷の追跡

#### 3.3.2 可視化
- **グラフ表示**: 統計データの視覚的表示
- **ワードクラウド**: 頻出キーワードの可視化
- **タイムライン**: 重要な議論の時系列表示

## 4. 非機能要件

### 4.1 パフォーマンス要件
- **レスポンス時間**: 検索結果表示は3秒以内
- **同時接続数**: 1,000ユーザーの同時利用に対応
- **可用性**: 99.9%以上のアップタイム

### 4.2 セキュリティ要件
- **データ保護**: 個人情報の適切な暗号化
- **認証**: JWT等による安全な認証
- **API制限**: レート制限による悪用防止

### 4.3 ユーザビリティ要件
- **レスポンシブデザイン**: モバイル・タブレット対応（MUIのGrid SystemとBreakpointsを活用）
- **アクセシビリティ**: WCAG 2.1 AA準拠（MUIの組み込みアクセシビリティ機能を活用）
- **多言語対応**: 日本語・英語対応（将来的）
- **デザイン統一性**: Material Design原則に基づく一貫したUI/UX

### 4.4 技術要件
- **ブラウザ対応**: Chrome, Firefox, Safari, Edge最新版
- **API制限遵守**: 国会図書館APIの利用制限の遵守
- **SEO対応**: 検索エンジン最適化

## 5. 外部API仕様

### 5.1 国会会議録検索API概要
国立国会図書館が提供する国会会議録検索システムの検索用API。

**詳細な技術仕様**: [API仕様書](./api-specification.md)

### 5.2 主要エンドポイント
- **会議単位簡易出力**: `/meeting_list` - 検索結果一覧表示用（最大100件）
- **会議単位出力**: `/meeting` - 会議録詳細表示用（最大10件、全発言テキスト含む）
- **発言単位出力**: `/speech` - 発言検索用（最大100件、該当発言のみ）

### 5.3 実装上の考慮事項
- **段階的データ取得**: 一覧→詳細の効率的な取得戦略
- **エラーハンドリング**: 19種類のエラーコードへの適切な対応
- **利用制限遵守**: リクエスト間隔の制御、2000バイト制限の考慮
- **法的制約**: 著作権への配慮とシステム安定運用への貢献

## 6. ユーザーストーリー

### 6.1 基本的な検索ユーザー
```
As a 一般市民
I want to 国会での議論を簡単に検索したい
So that 政治的な議論に関する理解を深められる
```

### 6.2 詳細分析ユーザー
```
As a 政治研究者
I want to 特定の議題について詳細な分析を行いたい
So that 研究に必要なデータを効率的に収集できる
```

### 6.3 議論参加ユーザー
```
As a 政治関心層
I want to 国会の議論に対して意見を表明したい  
So that 民主的な議論に参加できる
```

## 7. 技術的制約

### 7.1 データ取得の制約
- 国会図書館APIの利用規約に準拠
- 過度な自動リクエストの禁止
- 著作権への配慮

### 7.2 開発制約
- モノレポ構成での開発
- TypeScriptによる型安全性の確保
- テスト駆動開発（TDD）の採用
- MUI（Material-UI）のコンポーネントベース開発
- Material Design Guidelinesの遵守

## 8. リスクと対策

### 8.1 技術的リスク
- **API制限**: キャッシュ機能による負荷軽減
- **データ量**: ページネーションによる分割表示
- **セキュリティ**: 定期的なセキュリティ監査

### 8.2 運用リスク
- **コンテンツモデレーション**: ユーザー投稿の適切な管理
- **法的リスク**: 利用規約の明確化

## 9. 開発フェーズ

### Phase 1: 基本検索機能（MVP）
- MUIコンポーネントを使用したシンプル検索機能
- Material Designに準拠した検索結果表示
- レスポンシブな会議録閲覧機能
- 基本的なMUIテーマの実装

### Phase 2: ユーザー機能
- ユーザー認証
- コメント機能
- 保存機能

### Phase 3: 分析・可視化機能
- 統計情報表示
- データ可視化
- ソーシャル機能

### Phase 4: 高度な機能
- AI による要約機能
- 推薦システム
- モバイルアプリ

## 10. 成功指標（KPI）

### 10.1 利用指標
- **月間アクティブユーザー数**: 10,000人（1年目標）
- **検索実行数**: 月間100,000回
- **ページビュー**: 月間500,000PV

### 10.2 エンゲージメント指標
- **平均セッション時間**: 5分以上
- **コメント投稿数**: 月間1,000件
- **ユーザー登録率**: 訪問者の5%

### 10.3 品質指標
- **ユーザー満足度**: 4.0/5.0以上
- **システム稼働率**: 99.9%以上
- **検索精度**: 関連度80%以上